(function(e){function a(a){for(var n,s,d=a[0],l=a[1],o=a[2],u=0,h=[];u<d.length;u++)s=d[u],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&h.push(c[s][0]),c[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);i&&i(a);while(h.length)h.shift()();return r.push.apply(r,o||[]),t()}function t(){for(var e,a=0;a<r.length;a++){for(var t=r[a],n=!0,s=1;s<t.length;s++){var l=t[s];0!==c[l]&&(n=!1)}n&&(r.splice(a--,1),e=d(d.s=t[0]))}return e}var n={},c={app:0},r=[];function s(e){return d.p+"modoboa_radicale/js/"+({}[e]||e)+"."+{"chunk-2d0a34bd":"0bde0865","chunk-2d0a34e9":"00b09cb2","chunk-2d0a370a":"13c21a94","chunk-2d0a3756":"395786e5","chunk-2d0a38b9":"77d3b39a","chunk-2d0a3a89":"3aa33a21","chunk-2d0a4056":"ee14b852","chunk-2d0a4b53":"8ce56c24","chunk-2d0aa178":"5b735096","chunk-2d0aa5ef":"0731b66a","chunk-2d0aaf78":"52d3163d","chunk-2d0ab68b":"7a66745b","chunk-2d0ab6c4":"1dd087da","chunk-2d0ab6f5":"f9548158","chunk-2d0abc94":"8cbbf4e2","chunk-2d0ac5cb":"778deea0","chunk-2d0ac96c":"0a4202b3","chunk-2d0aec9e":"d0db194a","chunk-2d0aecae":"4e52043e","chunk-2d0aed68":"fc4d1c45","chunk-2d0af42a":"5db45a3c","chunk-2d0af467":"8784d39e","chunk-2d0af8a4":"b7cde0c0","chunk-2d0afa0e":"3b459373","chunk-2d0afa88":"c9c18f13","chunk-2d0b16b4":"a7cf4bac","chunk-2d0b1df4":"ab04b4ff","chunk-2d0b1e62":"b01d9dab","chunk-2d0b2119":"2d726022","chunk-2d0b2346":"fc9d71d9","chunk-2d0b255b":"2a6686b3","chunk-2d0b2758":"52dc1329","chunk-2d0b28e9":"407150ef","chunk-2d0b306e":"dfbb730d","chunk-2d0b324c":"323dc2d4","chunk-2d0b32bc":"bf5236f9","chunk-2d0b384e":"5e49a98f","chunk-2d0b3e07":"3d882041","chunk-2d0b5fc8":"4469d62c","chunk-2d0b66f7":"b81beec1","chunk-2d0b8a58":"c2d6da76","chunk-2d0b8b22":"37fd6409","chunk-2d0b92a3":"1eecf553","chunk-2d0b991c":"06c9bed9","chunk-2d0b9f58":"975ff6ee","chunk-2d0ba0d8":"abce99b5","chunk-2d0ba6cd":"5a3cd9cf","chunk-2d0bdf0b":"6f9585dd","chunk-2d0bdf1c":"34b225ab","chunk-2d0c0303":"25dee3bd","chunk-2d0c04d4":"53ae899e","chunk-2d0c0614":"11ff036a","chunk-2d0c0665":"84c75d46","chunk-2d0c0ab4":"f10ffd49","chunk-2d0c0e57":"9da0b28c","chunk-2d0c1749":"c97bba52","chunk-2d0c18df":"f8068e25","chunk-2d0c1cfa":"d9e1744d","chunk-2d0c2137":"7d5a9b91","chunk-2d0c4244":"c8e4af07","chunk-2d0c4255":"8eb1a361","chunk-2d0c42c4":"018b673a","chunk-2d0c49a7":"9d87f4f7","chunk-2d0c4a06":"5664a783","chunk-2d0c4fa7":"7acc2150","chunk-2d0c4fd5":"ea2a3b50","chunk-2d0c4fd8":"9b20f7d9","chunk-2d0c78c6":"eec44b80","chunk-2d0c792f":"595ae848","chunk-2d0c7cc5":"03ff04a7","chunk-2d0c7cf3":"ae52d5c6","chunk-2d0c8256":"5346d77b","chunk-2d0c87ca":"aab4605c","chunk-2d0c8a71":"16ba271d","chunk-2d0c8d7e":"0b6d1431","chunk-2d0c91c4":"a87bd588","chunk-2d0c932c":"ed6c7236","chunk-2d0c9589":"a4004f65","chunk-2d0cb6c7":"37a7b04e","chunk-2d0cc477":"f71449fc","chunk-2d0cc668":"efcf1c28","chunk-2d0cf667":"07113500","chunk-2d0cf866":"a5a30a3f","chunk-2d0cfa5b":"c6a8c810","chunk-2d0cfaa5":"37d9c873","chunk-2d0cfac5":"20fc659c","chunk-2d0cfaf6":"c6c5e187","chunk-2d0cfaff":"a1eef79e","chunk-2d0cfe68":"f31c584a","chunk-2d0d3299":"ad7a20ee","chunk-2d0d3307":"68c4d6d4","chunk-2d0d34e2":"b9b5714f","chunk-2d0d622d":"4eee0e9b","chunk-2d0d63c2":"71d074c0","chunk-2d0d641c":"42335ddf","chunk-2d0d65b1":"e9f8b79e","chunk-2d0d6922":"3448e6a1","chunk-2d0d7aa2":"f14f0803","chunk-2d0d7c47":"3121defd","chunk-2d0da019":"8b83adf7","chunk-2d0da953":"176f5558","chunk-2d0dab13":"a9e21fdc","chunk-2d0dace2":"c4e6f8f7","chunk-2d0db8a3":"903723f6","chunk-2d0dd3d3":"10301c7e","chunk-2d0dd623":"6de0dfed","chunk-2d0ddc12":"14dbeb05","chunk-2d0de2b8":"fcef6541","chunk-2d0de2f2":"a554b4ad","chunk-2d0de3cd":"6c3eb8de","chunk-2d0df06b":"0ac20575","chunk-2d0df0c0":"235ff78c","chunk-2d0e1f93":"4aad53e7","chunk-2d0e290e":"e5581ad3","chunk-2d0e2c86":"db1134a4","chunk-2d0e44ef":"0b4b7f45","chunk-2d0e502b":"833d3d9d","chunk-2d0e5230":"611f11d5","chunk-2d0e528a":"85fdb2e0","chunk-2d0e675f":"0fd38fd4","chunk-2d0e68a5":"c85414ba","chunk-2d0e88af":"3a071f37","chunk-2d0e8fe5":"a6b5544b","chunk-2d0e9367":"cac3e2be","chunk-2d0ea117":"a1a6fdaa","chunk-2d0f04bb":"cfcf42a2","chunk-2d0f064b":"8f8062e1","chunk-2d0f0654":"d861cdb4","chunk-2d0f15bf":"a9f19c24","chunk-2d207328":"35f8d61a","chunk-2d207f0b":"3ae025f3","chunk-2d208e1c":"71fe3e92","chunk-2d209617":"0c0b399a","chunk-2d20f909":"84960b5a","chunk-2d20fa70":"5d368736","chunk-2d20fb2b":"2c33a761","chunk-2d20fb61":"c93206fc","chunk-2d20ff21":"07ed1c95","chunk-2d2101ea":"63a8e4f3","chunk-2d210259":"c242d0e1","chunk-2d210669":"087dd2f7","chunk-2d210feb":"fe686a83","chunk-2d2131a1":"e3a86bc4","chunk-2d213ad4":"31e36b70","chunk-2d213c88":"3bdff376","chunk-2d215ca3":"d3cfc5a7","chunk-2d216442":"0515a815","chunk-2d21648f":"e925aefa","chunk-2d2165f9":"c88a4d23","chunk-2d216d3b":"ed65640f","chunk-2d21769d":"74eaa3bf","chunk-2d217a1d":"1b026a06","chunk-2d21aec0":"019387f0","chunk-2d21d12f":"d8bbd63f","chunk-2d21d4c1":"46f792d3","chunk-2d21d873":"05d64526","chunk-2d21f0be":"39c7d0e6","chunk-2d221e50":"2336696b","chunk-2d22252c":"a6fd3df6","chunk-2d2227e1":"d53c358e","chunk-2d22290e":"2a948903","chunk-2d222d37":"fd56bf40","chunk-2d22579a":"973a0d78","chunk-2d225b2c":"cb06d01e","chunk-2d225c72":"cb8572f4","chunk-2d225df8":"9f1ed3af","chunk-2d225f65":"cd05c84d","chunk-2d226318":"99f7fffe","chunk-2d2288d7":"092734c8","chunk-2d228922":"514de071","chunk-2d228cd2":"f18053c1","chunk-2d229007":"259d84b4","chunk-2d2290fe":"d0c0ec21","chunk-2d229b4b":"5e31a613","chunk-2d229b94":"fae5341f","chunk-2d229da7":"fc89d706","chunk-2d22b985":"e1bdb460","chunk-2d22c868":"9a71053d","chunk-2d22cfa9":"f9d17702","chunk-2d22d045":"1e698b07","chunk-2d22d465":"6b4b9840","chunk-2d22d73b":"50c65548","chunk-2d22dd78":"d2749824","chunk-2d230072":"e187ad13","chunk-2d230542":"53edd8c0","chunk-2d230e18":"4623b1da","chunk-2d231232":"6aa44019","chunk-2d231616":"67dfe9ae","chunk-2d237512":"1c4b7543","chunk-2d237570":"c6815067","chunk-2d237b1e":"4ad04b01","chunk-2d237f2f":"d5e06676","chunk-2d238064":"df4a095f","chunk-2d238263":"1a174b82","chunk-2d238609":"91001a8a","chunk-2d2386b5":"5dc97773","chunk-7490c111":"07efcc9a","chunk-7490c82a":"daaac1c3","chunk-74b4d726":"015f5c0b"}[e]+".js"}function d(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,d),t.l=!0,t.exports}d.e=function(e){var a=[],t=c[e];if(0!==t)if(t)a.push(t[2]);else{var n=new Promise((function(a,n){t=c[e]=[a,n]}));a.push(t[2]=n);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,d.nc&&l.setAttribute("nonce",d.nc),l.src=s(e);var o=new Error;r=function(a){l.onerror=l.onload=null,clearTimeout(u);var t=c[e];if(0!==t){if(t){var n=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",o.name="ChunkLoadError",o.type=n,o.request=r,t[1](o)}c[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(a)},d.m=e,d.c=n,d.d=function(e,a,t){d.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,a){if(1&a&&(e=d(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(d.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)d.d(t,n,function(a){return e[a]}.bind(null,n));return t},d.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(a,"a",a),a},d.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},d.p="/sitestatic/",d.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=a,l=l.slice();for(var u=0;u<l.length;u++)a(l[u]);var i=o;r.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"034f":function(e,a,t){"use strict";t("85ec")},"0617":function(e,a,t){},1:function(e,a){},"2f1f":function(e){e.exports=JSON.parse('{"en":{"A calendar is required.":"A calendar is required.","Access rules":"Access rules","Account":"Account","All day":"All day","Are you sure you want to delete this calendar?":"Are you sure you want to delete this calendar?","Are you sure you want to remove this event?":"Are you sure you want to remove this event?","Attendees":"Attendees","Calendar created":"Calendar created","Calendar deleted":"Calendar deleted","Calendar information":"Calendar information","Calendar sharing":"Calendar sharing","Calendar updated":"Calendar updated","Choose a domain":"Choose a domain","Close":"Close","Color":"Color","Create":"Create","Delete":"Delete","Description":"Description","Detail":"Detail","Edit":"Edit","Edit calendar":"Edit calendar","Edit event":"Edit event","Event deleted":"Event deleted","Event updated":"Event updated","Information":"Information","My calendars":"My calendars","Name":"Name","New calendar":"New calendar","New event":"New event","Read":"Read","Save":"Save","Shared calendars":"Shared calendars","Shared?":"Shared?","Success":"Success","The credentials are the same than the ones you use to access Modoboa.":"The credentials are the same than the ones you use to access Modoboa.","Title":"Title","To access this calendar from the outside (such as Mozilla Thunderbird or your smartphone), use the following URL:":"To access this calendar from the outside (such as Mozilla Thunderbird or your smartphone), use the following URL:","Update":"Update","Write":"Write"},"fr":{"%{ n } event imported":["%{ n } évènement importé","%{ n } évènements importés"],"A calendar is required.":"Un calendrier est requis.","Access rules":"Règles d\'accès","Account":"Compte","All day":"Toute la journée","Are you sure you want to delete this calendar?":"Etes vous certain de vouloir supprimer ce calendrier ?","Are you sure you want to remove this event?":"Etes vous certain de vouloir supprimer cet évènement ?","Attendees":"Invités","Calendar created":"Calendrier créé","Calendar deleted":"Calendrier supprimé","Calendar information":"Informations du calendrier","Calendar sharing":"Partage de calendrier","Calendar updated":"Calendrier mis à jour","Choose a domain":"Choisissez un domaine","Close":"Fermer","Color":"Couleur","Create":"Créer","Delete":"Supprimer","Description":"Description","Detail":"Détail","Edit":"Modifier","Edit calendar":"Modifier le calendrier","Edit event":"Modifier l\'évènement","Event deleted":"Evènement supprimé","Event updated":"Evènement mis à jour","Import":"Importer","Import events":"Importer des évènements","Information":"Informations","My calendars":"Mes calendriers","Name":"Nom","New calendar":"Nouveau calendrier","New event":"Nouvel évènement","Read":"Lecture","Save":"Enregistrer","Select an ICS file to import and click on the Send button":"Sélectionner un fichier ICS à importer puis cliquer sur le bouton Envoyer","Send":"Envoyer","Shared calendars":"Calendriers partagés","Shared?":"Partagé ?","Success":"Succès","The credentials are the same than the ones you use to access Modoboa.":"Les identifiants sont les mêmes que ceux utilisés pour accéder à Modoboa.","Title":"Titre","To access this calendar from the outside (such as Mozilla Thunderbird or your smartphone), use the following URL:":"Pour accéder à ce calendrier depuis l\'extérieur (par exemple depuis Mozilla Thunderbird ou votre smartphone), utilisez l\'URL suivante :","Update":"Mettre à jour","Write":"Ecriture","You can also share a read-only version of this calendar using the following URL:":"Vous pouvez aussi partager ce calendrier en lecture seule en utilisant l\'URL suivante :"}}')},"48a9":function(e,a,t){var n={"./ar.js":["f8e5","chunk-2d22dd78"],"./at.js":["1adf","chunk-2d0b5fc8"],"./az.js":["8a5e","chunk-2d0e88af"],"./be.js":["a003","chunk-2d207328"],"./bg.js":["f437","chunk-2d22c868"],"./bn.js":["e82a","chunk-2d226318"],"./bs.js":["b9ec","chunk-2d210feb"],"./cat.js":["fe2a","chunk-2d238064"],"./cs.js":["1014","chunk-2d0aa178"],"./cy.js":["4e89","chunk-2d0cc668"],"./da.js":["fbe1","chunk-2d237b1e"],"./de.js":["26df","chunk-2d0b32bc"],"./default.js":["40ce","chunk-2d0c04d4"],"./eo.js":["57b6","chunk-2d0c932c"],"./es.js":["4984","chunk-2d0c2137"],"./et.js":["8115","chunk-2d0dd3d3"],"./fa.js":["787b","chunk-2d0d7aa2"],"./fi.js":["7b0b9","chunk-74b4d726"],"./fo.js":["dc9b","chunk-2d2290fe"],"./fr.js":["0227","chunk-2d0a34bd"],"./ga.js":["01d7","chunk-2d0a370a"],"./gr.js":["5bcb","chunk-2d0d34e2"],"./he.js":["4211","chunk-2d0c0614"],"./hi.js":["feff","chunk-2d2386b5"],"./hr.js":["8fe8","chunk-2d0ea117"],"./hu.js":["295f","chunk-2d0b384e"],"./id.js":["022c","chunk-2d0a34e9"],"./index.js":["cbfa","chunk-2d221e50"],"./is.js":["252b","chunk-2d0b28e9"],"./it.js":["ae60","chunk-2d213ad4"],"./ja.js":["50ca","chunk-2d0c792f"],"./ka.js":["a74d","chunk-2d208e1c"],"./km.js":["e50d","chunk-2d22579a"],"./ko.js":["5445","chunk-2d0c8256"],"./kz.js":["d24c","chunk-2d21d873"],"./lt.js":["60bcb","chunk-7490c111"],"./lv.js":["d7c8","chunk-2d21f0be"],"./mk.js":["df51","chunk-2d229b94"],"./mn.js":["e69d","chunk-2d225c72"],"./ms.js":["7ef0","chunk-2d0e290e"],"./my.js":["4844","chunk-2d0c1cfa"],"./nl.js":["dee5","chunk-2d229da7"],"./no.js":["b874","chunk-2d210669"],"./pa.js":["c066","chunk-2d215ca3"],"./pl.js":["b579","chunk-2d20fb2b"],"./pt.js":["228d","chunk-2d0b1e62"],"./ro.js":["655e","chunk-2d0cfac5"],"./ru.js":["6ffc","chunk-2d0db8a3"],"./si.js":["7d5e","chunk-2d0e1f93"],"./sk.js":["727b","chunk-2d0d641c"],"./sl.js":["92cd","chunk-2d0e5230"],"./sq.js":["26b4","chunk-2d0b324c"],"./sr-cyr.js":["cfec","chunk-2d222d37"],"./sr.js":["0e21","chunk-2d0af42a"],"./sv.js":["98d4","chunk-2d0e68a5"],"./th.js":["8521","chunk-2d0de2f2"],"./tr.js":["f80c","chunk-2d22d73b"],"./uk.js":["fb33","chunk-2d237512"],"./uz.js":["9c83","chunk-2d0f04bb"],"./uz_latn.js":["cec9","chunk-2d22290e"],"./vn.js":["c80b","chunk-2d217a1d"],"./zh-tw.js":["3a66","chunk-2d0c42c4"],"./zh.js":["dc1c","chunk-2d229007"]};function c(e){if(!t.o(n,e))return Promise.resolve().then((function(){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=n[e],c=a[0];return t.e(a[1]).then((function(){return t.t(c,7)}))}c.keys=function(){return Object.keys(n)},c.id="48a9",e.exports=c},"51c4":function(e,a,t){"use strict";t("0617")},"56d7":function(e,a,t){"use strict";t.r(a);t("d3b7"),t("e260"),t("e6cf"),t("cca6"),t("a79d");var n=t("2b0e"),c=t("8c4f"),r=t("a78e"),s=t.n(r),d=t("5035"),l=t.n(d),o=t("8e5f"),u=t.n(o),i=t("cf06"),h=t.n(i),f=t("c38f"),k=t.n(f),b=(t("0952"),t("03a5")),p=t.n(b),v=t("ee98"),m=t.n(v),C=t("692b"),g=t.n(C),j=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"sidebar collapse navbar-collapse",attrs:{id:"leftcol"}},[t("ul",{staticClass:"nav nav-sidebar",attrs:{role:"menu"}},[t("li",[t("a",{attrs:{href:"#"},on:{click:e.openCreateCalendarForm}},[t("span",{staticClass:"fa fa-plus"}),e._v(" "),t("translate",[e._v("New calendar")])],1)]),t("li",{staticClass:"nav-header"},[t("translate",[e._v("My calendars")])],1),e._l(e.calendars,(function(a){return t("li",{key:a.pk,staticClass:"dropdown-submenu"},[t("a",{attrs:{href:"#"},on:{click:e.toggleSubmenu}},[t("span",{staticClass:"square",style:{"background-color":a.color}}),e._v(" "+e._s(a.name))]),t("ul",{staticClass:"dropdown-menu"},[t("li",[t("a",{attrs:{href:"#"},on:{click:function(t){return e.displayCalendarInfo(a,t)}}},[t("span",{staticClass:"fa fa-info"}),e._v(" "),t("translate",[e._v("Information")])],1)]),t("li",[t("a",{attrs:{href:"#"},on:{click:function(t){return e.editCalendar(a,t)}}},[t("span",{staticClass:"fa fa-edit"}),e._v(" "),t("translate",[e._v("Edit")])],1)]),t("li",[t("a",{attrs:{href:"#"},on:{click:function(t){return e.editCalendarAccessRules(a.pk,t)}}},[t("span",{staticClass:"fa fa-filter"}),e._v(" "),t("translate",[e._v("Access rules")])],1)]),t("li",[t("a",{attrs:{href:"#"},on:{click:function(t){return e.deleteCalendar(a,t)}}},[t("span",{staticClass:"fa fa-trash"}),e._v(" "),t("translate",[e._v("Delete")])],1)]),t("li",[t("a",{attrs:{href:"#"},on:{click:function(t){return e.openImportEventsForm(a,t)}}},[t("span",{staticClass:"fa fa-download"}),e._v(" "),t("translate",[e._v("Import")])],1)])])])})),e.sharedCalendars.length?t("li",{staticClass:"nav-header"},[t("translate",[e._v("Shared calendars")])],1):e._e(),e._l(e.sharedCalendars,(function(a){return t("li",{key:a.pk,staticClass:"dropdown-submenu"},[t("a",{attrs:{href:"#"},on:{click:e.toggleSharedCalendarMenu}},[t("span",{staticClass:"square",style:{"background-color":a.color}}),e._v(" "+e._s(a.name)+" ")]),t("ul",{staticClass:"dropdown-menu"},[t("li",[t("a",{attrs:{href:"#"},on:{click:function(t){return e.displayCalendarInfo(a,t)}}},[t("span",{staticClass:"fa fa-info"}),e._v(" "),t("translate",[e._v("Information")])],1)]),t("li",{directives:[{name:"can",rawName:"v-can",value:"modoboa_radicale.change_sharedcalendar",expression:"'modoboa_radicale.change_sharedcalendar'"}]},[t("a",{attrs:{href:"#"},on:{click:function(t){return e.editCalendar(a,t)}}},[t("span",{staticClass:"fa fa-edit"}),e._v(" "),t("translate",[e._v("Edit")])],1)]),t("li",{directives:[{name:"can",rawName:"v-can",value:"modoboa_radicale.delete_sharedcalendar",expression:"'modoboa_radicale.delete_sharedcalendar'"}]},[t("a",{attrs:{href:"#"},on:{click:function(t){return e.deleteCalendar(a,t)}}},[t("span",{staticClass:"fa fa-trash"}),e._v(" "),t("translate",[e._v("Delete")])],1)])])])}))],2)]),t("div",{staticClass:"main"},[t("router-view")],1),e.showCalendarForm?t("calendar-form",{attrs:{initialCalendar:e.currentCalendar,show:e.showCalendarForm},on:{"update:show":function(a){e.showCalendarForm=a}}}):e._e(),e.showAccessRulesForm?t("calendar-accessrules-form",{attrs:{show:e.showAccessRulesForm,calendarPk:e.currentCalendarPk},on:{"update:show":function(a){e.showAccessRulesForm=a}}}):e._e(),e.showCalendarDetail?t("calendar-detail",{attrs:{show:e.showCalendarDetail,calendar:e.currentCalendar},on:{"update:show":function(a){e.showCalendarDetail=a}}}):e._e(),e.showImportEventsForm?t("import-events-form",{attrs:{show:e.showImportEventsForm,calendar:e.currentCalendar},on:{"update:show":function(a){e.showImportEventsForm=a}}}):e._e(),t("notifications",{attrs:{position:"top right",group:"default"}})],1)},y=[],_=t("2f62"),E=t("1157"),w=t.n(E),x=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("modal",[t("div",{attrs:{slot:"header"},slot:"header"},[e.calendar.pk?t("h3",{staticClass:"modal-title"},[t("translate",[e._v("Edit calendar")])],1):t("h3",{staticClass:"modal-title"},[t("translate",[e._v("New calendar")])],1)]),t("div",{attrs:{slot:"body"},slot:"body"},[t("form",{staticClass:"form-horizontal",attrs:{id:"calendarForm",method:"post",enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),e.saveCalendar(a)}}},[t("div",{staticClass:"form-group",class:{"has-error":e.formErrors["name"]||e.formErrors["name"]}},[t("div",{staticClass:"col-sm-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.calendar.name,expression:"calendar.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name",placeholder:e.namePlaceHolder},domProps:{value:e.calendar.name},on:{input:function(a){a.target.composing||e.$set(e.calendar,"name",a.target.value)}}}),e.formErrors["name"]?t("span",{staticClass:"help-block"},[e._v(e._s(e.formErrors["name"][0]))]):e._e()])]),t("h4",[t("small",[t("translate",[e._v("Color")])],1)]),t("compact-picker",{model:{value:e.calendar.color,callback:function(a){e.$set(e.calendar,"color",a)},expression:"calendar.color"}}),t("hr"),t("div",{staticClass:"pull-right"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.close}},[t("translate",[e._v("Close")])],1),t("input",{staticClass:"btn btn-primary",attrs:{type:"submit"},domProps:{value:e.submitLabel}})]),t("div",{staticClass:"clearfix"})],1)])])},$=[],S=t("c345"),D=t("28dd");n["default"].use(D["a"]);var R=n["default"].resource("/api/v1/user-calendars{/pk}/"),A=function(e){return R.get()},O=function(e){return R.save(e)},P=function(e,a){return R.update({pk:e},a)},F=function(e){return R.delete({pk:e})},N=n["default"].resource("/api/v1/shared-calendars{/pk}/"),M=function(){return N.get()},T=function(e){return N.save(e)},I=function(e,a){return N.update({pk:e},a)},L=function(e){return N.delete({pk:e})},z={patch:{method:"PATCH",url:"/api/v1{/type}-calendars{/calendar_pk}/events{/pk}/"},importEvents:{method:"POST",url:"/api/v1{/type}-calendars{/calendar_pk}/events/import_from_file/"}},U=n["default"].resource("/api/v1{/type}-calendars{/calendar_pk}/events{/pk}/",{},z),H=function(e,a,t){return U.get({type:a,calendar_pk:e,pk:t})},J=function(e,a){var t=e.domain?"shared":"user";return U.save({type:t,calendar_pk:e.pk},a)},q=function(e,a,t){var n=t.calendar.domain?"shared":"user";return n!==e.type&&(t["new_calendar_type"]=n),t.calendar=t.calendar.pk,U.update({type:e.type,calendar_pk:e.pk,pk:a},t)},B=function(e,a,t){var n=e.domain?"shared":"user";return U.patch({type:n,calendar_pk:e.pk,pk:a},t)},W=function(e,a){var t=e.domain?"shared":"user";return U.delete({type:t,calendar_pk:e.pk,pk:a})},G=function(e,a){var t=e.domain?"shared":"user";return U.importEvents({type:t,calendar_pk:e.pk},a)},V=n["default"].resource("/api/v1/attendees{/pk}/"),Y=function(){return V.get()},Z=n["default"].resource("/api/v1/mailboxes{/pk}/"),K=function(){return Z.get()},X=n["default"].resource("/api/v1/accessrules{/pk}/"),Q=n["default"].resource("/api/v1/domains{/pk}/"),ee=function(){return Q.get()},ae=function(e){var a={};return void 0!==e&&(a.calendar=e),X.get(a)},te=function(e){return X.save(e)},ne=function(e,a){return X.update({pk:e},a)},ce=function(e){return X.delete({pk:e})},re={props:{initialCalendar:{type:Object,default:function(){return{color:""}}},show:{type:Boolean,default:!1}},components:{"compact-picker":S["Compact"]},created:function(){var e=this;ee().then((function(a){e.domains=a.data}))},data:function(){return{calendar:JSON.parse(JSON.stringify(this.initialCalendar)),shared:void 0!==this.initialCalendar.domain,domains:[],formErrors:{}}},computed:{colorPlaceHolder:function(){return this.$gettext("Color")},namePlaceHolder:function(){return this.$gettext("Name")},domainPlaceHolder:function(){return this.$gettext("Choose a domain")},submitLabel:function(){return this.calendar.pk?this.$gettext("Update"):this.$gettext("Create")}},methods:{close:function(){this.calendar={},this.shared=!1,this.formErrors={},this.$emit("update:show",!1)},saveCalendar:function(){var e,a,t=this,n=JSON.parse(JSON.stringify(this.calendar));n.color=n.color.hex,this.calendar.pk?(e=this.shared?"updateSharedCalendar":"updateCalendar",a=this.$gettext("Calendar updated")):(e=this.shared?"createSharedCalendar":"createCalendar",a=this.$gettext("Calendar created")),this.$store.dispatch(e,n).then((function(){n.color!==t.initialCalendar.color&&t.$bus.$emit("calendarColorChanged",n),t.close(),t.$notify({group:"default",title:t.$gettext("Success"),type:"success",text:a})}))}}},se=re,de=(t("60bc"),t("2877")),le=Object(de["a"])(se,x,$,!1,null,null,null),oe=le.exports,ue=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("modal",[t("div",{attrs:{slot:"header"},slot:"header"},[t("h3",{staticClass:"modal-title"},[t("translate",[e._v("Calendar sharing")])],1)]),t("div",{attrs:{slot:"body"},slot:"body"},[t("form",{staticClass:"form-inline",attrs:{id:"accessRulesForm",method:"post"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6"},[t("multiselect",{attrs:{label:"full_address",options:e.mailboxes},model:{value:e.currentRule.mailbox,callback:function(a){e.$set(e.currentRule,"mailbox",a)},expression:"currentRule.mailbox"}}),e.formErrors["mailbox"]?t("span",{staticClass:"help-block"},[e._v(e._s(e.formErrors["mailbox"][0]))]):e._e()],1),t("div",{staticClass:"col-sm-4"},[t("label",{staticClass:"checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.currentRule.read,expression:"currentRule.read"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.currentRule.read)?e._i(e.currentRule.read,null)>-1:e.currentRule.read},on:{change:function(a){var t=e.currentRule.read,n=a.target,c=!!n.checked;if(Array.isArray(t)){var r=null,s=e._i(t,r);n.checked?s<0&&e.$set(e.currentRule,"read",t.concat([r])):s>-1&&e.$set(e.currentRule,"read",t.slice(0,s).concat(t.slice(s+1)))}else e.$set(e.currentRule,"read",c)}}}),e._v(" "),t("translate",[e._v("Read")])],1),t("label",{staticClass:"checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.currentRule.write,expression:"currentRule.write"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.currentRule.write)?e._i(e.currentRule.write,null)>-1:e.currentRule.write},on:{change:function(a){var t=e.currentRule.write,n=a.target,c=!!n.checked;if(Array.isArray(t)){var r=null,s=e._i(t,r);n.checked?s<0&&e.$set(e.currentRule,"write",t.concat([r])):s>-1&&e.$set(e.currentRule,"write",t.slice(0,s).concat(t.slice(s+1)))}else e.$set(e.currentRule,"write",c)}}}),e._v(" "),t("translate",[e._v("Write")])],1)]),t("div",{staticClass:"col-sm-2"},[t("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:e.saveRule}},[t("span",{staticClass:"fa fa-save"})])])])]),t("br"),t("table",{staticClass:"table"},[t("thead",[t("tr",[t("th",[t("translate",[e._v("Account")])],1),t("th",[t("translate",[e._v("Read")])],1),t("th",[t("translate",[e._v("Write")])],1),t("th")])]),t("tbody",e._l(e.accessRules,(function(a){return t("tr",{key:a.pk},[t("td",[e._v(e._s(a.mailbox.full_address))]),t("td",[a.read?t("span",{staticClass:"fa fa-check"}):t("span",{staticClass:"fa fa-close"})]),t("td",[a.write?t("span",{staticClass:"fa fa-check"}):t("span",{staticClass:"fa fa-close"})]),t("td",[t("a",{attrs:{href:"#"},on:{click:function(t){return e.editRule(a)}}},[t("span",{staticClass:"fa fa-edit"})]),t("a",{attrs:{href:"#"},on:{click:function(t){return e.deleteRule(a.pk)}}},[t("span",{staticClass:"fa fa-trash"})])])])})),0)]),t("hr"),t("div",{staticClass:"pull-right"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.close}},[t("translate",[e._v("Close")])],1)]),t("div",{staticClass:"clearfix"})])])},ie=[],he=(t("4de4"),t("a9e3"),{props:{calendarPk:Number},data:function(){return{accessRules:[],mailboxes:[],currentRule:{},formErrors:{}}},created:function(){var e=this;ae(this.calendarPk).then((function(a){e.accessRules=a.data,e.accessRules.length||(e.accessRules=[])})),K().then((function(a){e.mailboxes=a.data}))},methods:{saveRule:function(){var e=this;this.currentRule.pk?ne(this.currentRule.pk,this.currentRule).then((function(a){e.accessRules.filter((function(a,t){a.pk===e.currentRule.pk&&n["default"].set(e.accessRules,t,e.currentRule)})),e.resetForm()}),this.onError):(this.currentRule.calendar=this.calendarPk,te(this.currentRule).then((function(a){e.accessRules.push(a.data),e.resetForm()}),this.onError))},resetForm:function(){this.currentRule={},this.formErrors={}},onError:function(e){this.formErrors=e.data},editRule:function(e){this.currentRule=JSON.parse(JSON.stringify(e))},deleteRule:function(e){var a=this;ce(e).then((function(t){a.accessRules=a.accessRules.filter((function(a){return a.pk!==e}))}))},close:function(){this.formErrors={},this.$emit("update:show",!1)}}}),fe=he,ke=Object(de["a"])(fe,ue,ie,!1,null,null,null),be=ke.exports,pe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("modal",[t("div",{attrs:{slot:"header"},slot:"header"},[t("h3",{staticClass:"modal-title"},[t("translate",[e._v("Calendar information")])],1)]),t("div",{attrs:{slot:"body"},slot:"body"},[t("p",[t("translate",[e._v("To access this calendar from the outside (such as Mozilla Thunderbird or your smartphone), use the following URL: ")])],1),t("div",{staticClass:"alert alert-info"},[e._v(" "+e._s(e.calendar.full_url)+" ")]),t("p",[t("translate",[e._v("The credentials are the same than the ones you use to access Modoboa.")])],1),t("p",[t("translate",[e._v("You can also share a read-only version of this calendar using the following URL: ")])],1),t("div",{staticClass:"alert alert-info"},[e._v(" "+e._s(e.calendar.share_url)+" ")]),t("hr"),t("div",{staticClass:"pull-right"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.close}},[t("translate",[e._v("Close")])],1)]),t("div",{staticClass:"clearfix"})])])},ve=[],me={props:{calendar:Object},methods:{close:function(){this.$emit("update:show",!1)}}},Ce=me,ge=Object(de["a"])(Ce,pe,ve,!1,null,null,null),je=ge.exports,ye=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("modal",[t("div",{attrs:{slot:"header"},slot:"header"},[t("h3",{staticClass:"modal-title"},[t("translate",[e._v("Import events")])],1)]),t("div",{attrs:{slot:"body"},slot:"body"},[t("form",{staticClass:"form-inline",on:{submit:function(a){return a.preventDefault(),e.sendFile(a)}}},[t("div",{staticClass:"alert alert-info"},[t("translate",[e._v("Select an ICS file to import and click on the Send button")])],1),t("input",{ref:"file",attrs:{type:"file",name:"file"},on:{change:e.setFile}}),e.formErrors["ics_file"]?t("span",{staticClass:"help-block"},[e._v(e._s(e.formErrors["ics_file"][0]))]):e._e(),t("hr"),t("div",{staticClass:"pull-right"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.close}},[t("translate",[e._v("Close")])],1),t("input",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.runningUpload},domProps:{value:e.submitLabel}})]),t("div",{staticClass:"clearfix"})])])])},_e=[],Ee={props:{calendar:Object,show:{type:Boolean,default:!1}},data:function(){return{file:null,formErrors:{},runningUpload:!1}},computed:{submitLabel:function(){return this.$gettext("Send")}},methods:{close:function(){this.formErrors={},this.$emit("update:show",!1)},setFile:function(){this.file=this.$refs.file.files[0]},onSendError:function(e){this.formErrors=e.data,this.runningUpload=!1},sendFile:function(){var e=this,a=new FormData;a.append("ics_file",this.file),this.runningUpload=!0,G(this.calendar,a).then((function(a){e.close();var t=e.$ngettext("%{ n } event imported","%{ n } events imported",a.data.counter);e.$bus.$emit("eventsImported",e.calendar),e.$notify({group:"default",title:e.$gettext("Success"),type:"success",text:e.$gettextInterpolate(t,{n:a.data.counter})})}),this.onSendError)}}},we=Ee,xe=Object(de["a"])(we,ye,_e,!1,null,null,null),$e=xe.exports,Se={components:{"calendar-form":oe,"calendar-accessrules-form":be,"calendar-detail":je,"import-events-form":$e},computed:Object(_["b"])(["calendars","sharedCalendars"]),data:function(){return{currentCalendarPk:void 0,currentCalendar:void 0,showCalendarForm:!1,showAccessRulesForm:!1,showCalendarDetail:!1,showImportEventsForm:!1,currentMenu:null}},created:function(){this.$store.dispatch("getCalendars"),this.$store.dispatch("getSharedCalendars")},methods:{openCreateCalendarForm:function(){this.currentCalendar=void 0,this.showCalendarForm=!0},displayCalendarInfo:function(e,a){this.closeMenu(a),this.showCalendarDetail=!0,this.currentCalendar=e},editCalendar:function(e,a){this.closeMenu(a),this.currentCalendar=e,this.showCalendarForm=!0},editCalendarAccessRules:function(e,a){this.closeMenu(a),this.currentCalendarPk=e,this.showAccessRulesForm=!0},deleteCalendar:function(e,a){var t=this;this.closeMenu(a);var n=e.domain?"shared":"user",c="shared"===n?"deleteSharedCalendar":"deleteCalendar",r=this.$gettext("Are you sure you want to delete this calendar?");this.$dialog.confirm(r).then((function(){t.$store.dispatch(c,e.pk).then((function(){t.$bus.$emit("calendarDeleted",e),t.$notify({group:"default",title:t.$gettext("Success"),type:"success",text:t.$gettext("Calendar deleted")})}))}))},openImportEventsForm:function(e,a){this.closeMenu(a),this.currentCalendar=e,this.showImportEventsForm=!0},closeMenu:function(e){w()(e.target).closest("ul").toggle(),this.currentMenu=null},toggleSubmenu:function(e){var a=w()(e.target).next("ul");this.currentMenu&&(this.currentMenu.toggle(),this.currentMenu.is(a))?this.currentMenu=void 0:(this.currentMenu=a,this.currentMenu.toggle())},toggleSharedCalendarMenu:function(e){this.toggleSubmenu(e)}}},De=Se,Re=(t("034f"),Object(de["a"])(De,j,y,!1,null,null,null)),Ae=Re.exports,Oe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e.showCreateEventForm?t("create-event-form",{attrs:{start:e.start,end:e.end,allDay:e.allDay,show:e.showCreateEventForm},on:{"update:show":function(a){e.showCreateEventForm=a},eventCreated:e.renderEvent}}):e._e(),e.showEventForm?t("event-form",{attrs:{id:e.currentId,show:e.showEventForm},on:{"update:show":function(a){e.showEventForm=a},eventDeleted:e.deleteEvent}}):e._e()],1)},Pe=[],Fe=(t("99af"),t("b85c")),Ne=t("573d"),Me=t("3e32"),Te=t("3cdd"),Ie=t("a20c"),Le=t("1315"),ze=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("modal",[t("div",{attrs:{slot:"header"},slot:"header"},[t("h3",{staticClass:"modal-title"},[t("translate",[e._v("New event")])],1)]),t("div",{attrs:{slot:"body"},slot:"body"},[t("form",{staticClass:"form-horizontal",attrs:{id:"eventForm",method:"post",enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),e.saveEvent(a)}}},[t("div",{staticClass:"form-group",class:{"has-error":e.formErrors["title"]||e.formErrors["title"]}},[t("div",{staticClass:"col-sm-offset-2 col-sm-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.event.title,expression:"event.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",name:"title",placeholder:e.titlePlaceHolder},domProps:{value:e.event.title},on:{input:function(a){a.target.composing||e.$set(e.event,"title",a.target.value)}}}),e.formErrors["title"]?t("span",{staticClass:"help-block"},[e._v(e._s(e.formErrors["title"][0]))]):e._e()])]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-2"},[t("span",{staticClass:"fa fa-clock-o fa-2x"})]),t("div",{staticClass:"col-sm-5"},[t("flat-pickr",{attrs:{name:"start",config:e.config},model:{value:e.event.start,callback:function(a){e.$set(e.event,"start",a)},expression:"event.start"}})],1),t("div",{staticClass:"col-sm-5"},[t("flat-pickr",{attrs:{name:"end",config:e.config},model:{value:e.event.end,callback:function(a){e.$set(e.event,"end",a)},expression:"event.end"}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-2"},[t("span",{staticClass:"fa fa-calendar fa-2x"})]),t("div",{staticClass:"col-sm-10"},[t("multiselect",{attrs:{label:"name",options:e.allCalendars},model:{value:e.event.calendar,callback:function(a){e.$set(e.event,"calendar",a)},expression:"event.calendar"}}),e.formErrors["calendar"]?t("span",{staticClass:"help-block"},[e._v(e._s(e.formErrors["calendar"]))]):e._e()],1)]),t("hr"),t("div",{staticClass:"pull-right"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.close}},[t("translate",[e._v("Close")])],1),t("input",{staticClass:"btn btn-primary",attrs:{type:"submit"},domProps:{value:e.submitLabel}})]),t("div",{staticClass:"clearfix"})])])])},Ue=[],He=t("5530"),Je={props:{start:[Date],end:[Date],allDay:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},data:function(){return{event:{start:this.start,end:this.end,allDay:this.allDay},formErrors:{},config:{enableTime:!0,time_24hr:!0}}},computed:Object(He["a"])(Object(He["a"])({titlePlaceHolder:function(){return this.$gettext("Title")},submitLabel:function(){return this.$gettext("Save")}},Object(_["b"])(["calendars","sharedCalendars"])),{},{allCalendars:function(){return this.calendars.concat(this.sharedCalendars)}}),methods:{close:function(){this.formErrors={},this.$emit("update:show",!1)},saveEvent:function(){var e=this,a=JSON.parse(JSON.stringify(this.event));if(a.calendar){var t=a.calendar;a.calendar=a.calendar.pk,J(t,a).then((function(a){e.close(),e.$emit("eventCreated",a.data)}))}else this.$set(this.formErrors,"calendar",this.$gettext("A calendar is required."))}}},qe=Je,Be=Object(de["a"])(qe,ze,Ue,!1,null,null,null),We=Be.exports,Ge=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h3",[t("translate",[e._v("Edit event")])],1),t("hr"),t("form",{staticClass:"form-horizontal",attrs:{id:"eventForm",method:"post",enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),e.saveEvent(a)}}},[t("div",{staticClass:"form-group",class:{"has-error":e.formErrors["title"]||e.formErrors["title"]}},[t("div",{staticClass:"col-sm-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.event.title,expression:"event.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",name:"title",placeholder:e.titlePlaceHolder},domProps:{value:e.event.title},on:{input:function(a){a.target.composing||e.$set(e.event,"title",a.target.value)}}}),e.formErrors["title"]?t("span",{staticClass:"help-block"},[e._v(e._s(e.formErrors["title"][0]))]):e._e()])]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-3"},[t("flat-pickr",{attrs:{name:"start",config:e.config},model:{value:e.event.start,callback:function(a){e.$set(e.event,"start",a)},expression:"event.start"}})],1),t("div",{staticClass:"col-sm-3"},[t("flat-pickr",{attrs:{name:"end",config:e.config},model:{value:e.event.end,callback:function(a){e.$set(e.event,"end",a)},expression:"event.end"}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-3"},[t("div",{staticClass:"checkbox"},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.event.allDay,expression:"event.allDay"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.event.allDay)?e._i(e.event.allDay,null)>-1:e.event.allDay},on:{change:function(a){var t=e.event.allDay,n=a.target,c=!!n.checked;if(Array.isArray(t)){var r=null,s=e._i(t,r);n.checked?s<0&&e.$set(e.event,"allDay",t.concat([r])):s>-1&&e.$set(e.event,"allDay",t.slice(0,s).concat(t.slice(s+1)))}else e.$set(e.event,"allDay",c)}}}),e._v(" "),t("translate",[e._v("All day")])],1)])]),e._m(0),t("div",{staticClass:"col-sm-6"},[t("multiselect",{attrs:{label:"name",options:e.allCalendars},model:{value:e.event.calendar,callback:function(a){e.$set(e.event,"calendar",a)},expression:"event.calendar"}}),e.formErrors["calendar"]?t("span",{staticClass:"help-block has-error"},[e._v(e._s(e.formErrors["calendar"]))]):e._e()],1)]),t("hr"),t("div",{staticClass:"form-group",class:{"has-error":e.formErrors["description"]||e.formErrors["description"]}},[t("div",{staticClass:"col-sm-7"},[t("h4",[t("translate",[e._v("Detail")])],1),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.event.description,expression:"event.description"}],staticClass:"form-control",attrs:{id:"description",name:"description",placeholder:e.descriptionPlaceHolder},domProps:{value:e.event.description},on:{input:function(a){a.target.composing||e.$set(e.event,"description",a.target.value)}}}),e.formErrors["description"]?t("span",{staticClass:"help-block"},[e._v(e._s(e.formErrors["description"][0]))]):e._e()]),t("div",{staticClass:"col-sm-5"},[t("h4",[t("translate",[e._v("Attendees")])],1),t("multiselect",{attrs:{multiple:"",label:"display_name",options:e.attendees,"close-on-select":!1,"hide-selected":!0,"track-by":"email"},model:{value:e.event.attendees,callback:function(a){e.$set(e.event,"attendees",a)},expression:"event.attendees"}})],1)]),t("hr"),t("div",{staticClass:"pull-right"},[t("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.close}},[t("translate",[e._v("Close")])],1),t("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.deleteEvent}},[t("translate",[e._v("Delete")])],1),t("input",{staticClass:"btn btn-primary",attrs:{type:"submit"},domProps:{value:e.submitPlaceholder}})]),t("div",{staticClass:"clearfix"})])])},Ve=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"col-sm-1"},[t("span",{staticClass:"fa fa-calendar fa-2x"})])}],Ye={data:function(){return{event:{attendees:[]},originalCalendarPk:null,formErrors:{},config:{enableTime:!0,time_24hr:!0}}},computed:Object(He["a"])(Object(He["a"])({descriptionPlaceHolder:function(){return this.$gettext("Description")},titlePlaceHolder:function(){return this.$gettext("Title")},submitPlaceholder:function(){return this.$gettext("Save")}},Object(_["b"])(["calendars","sharedCalendars","attendees"])),{},{allCalendars:function(){return this.calendars.concat(this.sharedCalendars)}}),mounted:function(){var e=this,a=this.$route.params;H(a.calendar_pk,a.calendar_type,a.pk).then((function(a){e.event=a.data})),this.$store.dispatch("getAttendees")},methods:{close:function(){this.formErrors={},this.$router.push({name:"Calendar"})},onSaveError:function(e){this.formErrors=e.data},saveEvent:function(){var e=this,a=JSON.parse(JSON.stringify(this.event));if(a.calendar){var t={pk:this.$route.params.calendar_pk,type:this.$route.params.calendar_type};q(t,a.id,a).then((function(a){e.close(),e.$notify({group:"default",title:e.$gettext("Success"),type:"success",text:e.$gettext("Event updated")})}),this.onSaveError)}else this.$set(this.formErrors,"calendar",this.$gettext("A calendar is required."))},deleteEvent:function(){var e=this,a=this.$gettext("Are you sure you want to remove this event?");this.$dialog.confirm(a).then((function(){W(e.event.calendar,e.event.id).then((function(a){e.close(),e.$notify({group:"default",title:e.$gettext("Success"),type:"success",text:e.$gettext("Event deleted")})}))}))}}},Ze=Ye,Ke=Object(de["a"])(Ze,Ge,Ve,!1,null,null,null),Xe=Ke.exports,Qe={components:{"create-event-form":We,"event-form":Xe},computed:Object(_["b"])(["calendars","sharedCalendars"]),data:function(){return{allDay:!1,calendar:void 0,currentId:null,start:null,end:null,showCreateEventForm:!1,showEventForm:!1}},created:function(){var e=this;this.$bus.$on("calendarColorChanged",(function(a){var t=a.domain?"shared":"user",n=e.calendar.getEventSourceById("".concat(t,"-").concat(a.pk));n.refetch()})),this.$bus.$on("calendarDeleted",(function(a){var t=a.domain?"shared":"user",n=e.calendar.getEventSourceById("".concat(t,"-").concat(a.pk));n.remove()})),this.$bus.$on("eventsImported",(function(a){var t=a.domain?"shared":"user",n=e.calendar.getEventSourceById("".concat(t,"-").concat(a.pk));n.refetch()}))},mounted:function(){var e=this,a=this.$language.current;"en"!==a?t("fcc8")("./".concat(a,".js")).then((function(a){e.loadFullCalendar(a.default)})):this.loadFullCalendar()},watch:{calendars:function(e){this.addEventSources(e)},sharedCalendars:function(e){this.addEventSources(e)}},methods:{loadFullCalendar:function(e){this.calendar=new Ne["a"](this.$el,{plugins:[Me["a"],Te["b"],Ie["a"]],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"timeGridWeek",locale:void 0!==e?e:this.$language.current,timeZone:"local",selectable:!0,selectMirror:!0,editable:!0,dayMaxEventRows:!0,select:this.selectCallback,eventClick:this.eventClickCallback,eventDrop:this.eventDropCallback,eventResize:this.eventResizeCallback}),this.calendar.render(),this.addEventSources(this.calendars),this.addEventSources(this.sharedCalendars)},getEventSourceUrl:function(e,a){return"/api/v1/".concat(a,"-calendars/").concat(e,"/events/")},addEventSources:function(e){if(void 0!==this.calendar){var a,t=Object(Fe["a"])(e);try{for(t.s();!(a=t.n()).done;){var n=a.value,c=n.domain?"shared":"user",r=this.calendar.getEventSourceById("".concat(c,"-").concat(n.pk));r||this.calendar.addEventSource({id:"".concat(c,"-").concat(n.pk),url:this.getEventSourceUrl(n.pk,c)})}}catch(s){t.e(s)}finally{t.f()}}},selectCallback:function(e){this.start=e.start,this.end=e.end,this.allDay=e.allDay,this.showCreateEventForm=!0},closeCreateEventForm:function(){this.showCreateEventForm=!1},renderEvent:function(e){this.calendar.addEvent(e,!0)},eventClickCallback:function(e){var a=e.event.extendedProps.calendar,t=a.domain?"shared":"user";this.$router.push({name:"EditEvent",params:{calendar_type:t,calendar_pk:a.pk,pk:e.event.id}})},updateEventDates:function(e){var a=this,t={start:e.start,end:e.end},n=e.extendedProps.calendar;if(e.allDay){var c=Le["DateTime"].fromJSDate(t.start);c.plus({days:1}),t.start.setHours(0,0,0),t.end=c,t.allDay=e.allDay}else if(!e.hasEnd){var r=Le["DateTime"].fromJSDate(t.start);r.plus({hours:1}),t.end=r}B(n,e.id,t).then((function(e){a.$notify({group:"default",title:a.$gettext("Success"),type:"success",text:a.$gettext("Event updated")})}))},eventDropCallback:function(e){this.updateEventDates(e.event)},eventResizeCallback:function(e){this.updateEventDates(e.event)},deleteEvent:function(e){this.calendar.removeEvents(e)}}},ea=Qe,aa=(t("1ec8"),Object(de["a"])(ea,Oe,Pe,!1,null,null,null)),ta=aa.exports;n["default"].use(c["a"]);var na,ca=new c["a"]({routes:[{path:"/",name:"Calendar",component:ta},{path:"/:calendar_pk([0-9]+)/:calendar_type(shared|user)/events/:pk([A-Za-z0-9\\-.@]+)/edit",name:"EditEvent",component:Xe}],linkActiveClass:"active"}),ra=t("ade3"),sa="SET_CALENDARS",da="ADD_CALENDAR",la="UPDATE_CALENDAR",oa="DELETE_CALENDAR",ua="SET_SHARED_CALENDARS",ia="ADD_SHARED_CALENDAR",ha="UPDATE_SHARED_CALENDAR",fa="DELETE_SHARED_CALENDAR",ka="SET_ATTENDEES",ba={calendars:[],sharedCalendars:[]},pa={calendars:function(e){return e.calendars},sharedCalendars:function(e){return e.sharedCalendars}},va={getCalendars:function(e){var a=e.commit;return A().then((function(e){a(sa,{calendars:e.data})}))},createCalendar:function(e,a){var t=e.commit;return O(a).then((function(e){t(da,{calendar:e.data})}))},updateCalendar:function(e,a){var t=e.commit;return P(a.pk,a).then((function(e){t(la,{calendar:e.data})}))},deleteCalendar:function(e,a){var t=e.commit;return F(a).then((function(e){t(oa,{pk:a})}))},getSharedCalendars:function(e){var a=e.commit;return M().then((function(e){a(ua,{calendars:e.data})}))},createSharedCalendar:function(e,a){var t=e.commit;return T(a).then((function(e){t(ia,{calendar:e.data})}))},updateSharedCalendar:function(e,a){var t=e.commit;return I(a.pk,a).then((function(e){t(ha,{calendar:e.data})}))},deleteSharedCalendar:function(e,a){var t=e.commit;return L(a).then((function(e){t(fa,{pk:a})}))}},ma=(na={},Object(ra["a"])(na,sa,(function(e,a){var t=a.calendars;e.calendars=t})),Object(ra["a"])(na,da,(function(e,a){var t=a.calendar;e.calendars.push(t)})),Object(ra["a"])(na,la,(function(e,a){var t=a.calendar;e.calendars.filter((function(a,c){a.pk===t.pk&&n["default"].set(e.calendars,c,t)}))})),Object(ra["a"])(na,oa,(function(e,a){var t=a.pk;e.calendars=e.calendars.filter((function(e){return e.pk!==t}))})),Object(ra["a"])(na,ua,(function(e,a){var t=a.calendars;e.sharedCalendars=t})),Object(ra["a"])(na,ia,(function(e,a){var t=a.calendar;e.sharedCalendars.push(t)})),Object(ra["a"])(na,ha,(function(e,a){var t=a.calendar;e.sharedCalendars.filter((function(a,c){a.pk===t.pk&&n["default"].set(e.sharedCalendars,c,t)}))})),Object(ra["a"])(na,fa,(function(e,a){var t=a.pk;e.sharedCalendars=e.sharedCalendars.filter((function(e){return e.pk!==t}))})),na),Ca={state:ba,getters:pa,actions:va,mutations:ma},ga={attendees:[]},ja={attendees:function(e){return e.attendees}},ya={getAttendees:function(e){var a=e.commit;return Y().then((function(e){a(ka,{attendees:e.data})}))}},_a=Object(ra["a"])({},ka,(function(e,a){var t=a.attendees;e.attendees=t})),Ea={state:ga,getters:ja,actions:ya,mutations:_a};n["default"].use(_["a"]);var wa={modules:{calendar:Ca,event:Ea},strict:!1},xa=new _["a"].Store(wa),$a=t("2f1f"),Sa=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{ref:"modal",staticClass:"modal fade show in background-darken",attrs:{tabindex:"-1",role:"dialog"}},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[e._t("header")],2),t("div",{staticClass:"modal-body"},[e._t("body")],2),e.showFooter?t("div",{staticClass:"modal-footer"},[e._t("footer")],2):e._e()])])])},Da=[],Ra={props:{showFooter:{type:Boolean,default:!1}}},Aa=Ra,Oa=(t("51c4"),Object(de["a"])(Aa,Sa,Da,!1,null,"0e32cbfe",null)),Pa=Oa.exports;t("c5c5");n["default"].use(l.a,{availableLanguages:{en:"English",fr:"Français"},translations:$a}),n["default"].config.language=userLang,n["default"].use(c["a"]),n["default"].use(p.a),n["default"].use(m.a),n["default"].use(g.a),"en"!==userLang&&t("48a9")("./".concat(userLang,".js")).then((function(e){h.a.localize(e.default[userLang])})),n["default"].use(k.a),n["default"].component("calendar",ta),n["default"].component("modal",Pa),n["default"].component("multiselect",u.a);var Fa=new n["default"];Object.defineProperties(n["default"].prototype,{$bus:{get:function(){return Fa}}});var Na=s.a.get("csrftoken");n["default"].http.headers.common["X-CSRFTOKEN"]=Na,new n["default"]({el:"#app",render:function(e){return e(Ae)},router:ca,store:xa})},"692b":function(e,a,t){t("c975");var n={install:function(e,a){e.directive("can",{bind:function(e,a,t,n){var c=a.value,r=window.userProfile;r.isSuperUser||-1!==r.permissions.indexOf(c)||(e.style.display="none")}}),e.prototype.$can=function(e){var a=window.userProfile;return!(!a.isSuperUser&&-1===a.permissions.indexOf(e))}}};e.exports=n},"85ec":function(e,a,t){},fcc8:function(e,a,t){var n={"./af.global.js":["3cd3","chunk-2d0c4fd5"],"./af.js":["0ead","chunk-2d0afa0e"],"./ar-dz.global.js":["3621","chunk-2d0ba0d8"],"./ar-dz.js":["adc2","chunk-2d213c88"],"./ar-kw.global.js":["3c44","chunk-2d0c4a06"],"./ar-kw.js":["3a1b","chunk-2d0c4255"],"./ar-ly.global.js":["e5f8","chunk-2d225df8"],"./ar-ly.js":["6d4c","chunk-2d0dab13"],"./ar-ma.global.js":["fb64","chunk-2d237570"],"./ar-ma.js":["0c0e","chunk-2d0aec9e"],"./ar-sa.global.js":["edbe","chunk-2d230e18"],"./ar-sa.js":["654d","chunk-2d0cfaa5"],"./ar-tn.global.js":["2088","chunk-2d0b16b4"],"./ar-tn.js":["f797","chunk-2d22d465"],"./ar.global.js":["e605","chunk-2d225b2c"],"./ar.js":["22b2","chunk-2d0b2346"],"./az.global.js":["a358","chunk-2d207f0b"],"./az.js":["8505","chunk-2d0de2b8"],"./bg.global.js":["6a80","chunk-2d0da019"],"./bg.js":["14e0","chunk-2d0ab6c4"],"./bs.global.js":["c28b","chunk-2d21648f"],"./bs.js":["272e","chunk-2d0b306e"],"./ca.global.js":["0eeb","chunk-2d0afa88"],"./ca.js":["60da7","chunk-7490c82a"],"./cs.global.js":["01ed","chunk-2d0a3756"],"./cs.js":["2264","chunk-2d0b1df4"],"./da.global.js":["640c","chunk-2d0cf667"],"./da.js":["80c8","chunk-2d0dd623"],"./de.global.js":["2313","chunk-2d0b2119"],"./de.js":["4cf8","chunk-2d0cc477"],"./el.global.js":["9057","chunk-2d0e44ef"],"./el.js":["f614","chunk-2d22cfa9"],"./en-au.global.js":["54a6","chunk-2d0c87ca"],"./en-au.js":["c1d9","chunk-2d2165f9"],"./en-gb.global.js":["29f0","chunk-2d0b3e07"],"./en-gb.js":["92fa","chunk-2d0e528a"],"./en-nz.global.js":["2dad","chunk-2d0bdf0b"],"./en-nz.js":["081f","chunk-2d0a4b53"],"./es-us.global.js":["8c48","chunk-2d0e8fe5"],"./es-us.js":["415e","chunk-2d0c0303"],"./es.global.js":["8d27","chunk-2d0e9367"],"./es.js":["23cd","chunk-2d0b2758"],"./et.global.js":["b73a","chunk-2d210259"],"./et.js":["da6e","chunk-2d228922"],"./eu.global.js":["6be6","chunk-2d0da953"],"./eu.js":["5c1f","chunk-2d0d3299"],"./fa.global.js":["4717","chunk-2d0c18df"],"./fa.js":["1cc2","chunk-2d0b66f7"],"./fi.global.js":["72b3","chunk-2d0d6922"],"./fi.js":["be29","chunk-2d21aec0"],"./fr-ca.global.js":["2dc7","chunk-2d0bdf1c"],"./fr-ca.js":["0344","chunk-2d0a38b9"],"./fr-ch.global.js":["19d2","chunk-2d0ac96c"],"./fr-ch.js":["51c6","chunk-2d0c7cc5"],"./fr.global.js":["6589","chunk-2d0cfaf6"],"./fr.js":["f665","chunk-2d22d045"],"./gl.global.js":["87c9","chunk-2d0df06b"],"./gl.js":["8378","chunk-2d0ddc12"],"./he.global.js":["feb6","chunk-2d238609"],"./he.js":["77e6","chunk-2d0d7c47"],"./hi.global.js":["87f1","chunk-2d0df0c0"],"./hi.js":["da59","chunk-2d2288d7"],"./hr.global.js":["0e40","chunk-2d0af467"],"./hr.js":["0550","chunk-2d0a4056"],"./hu.global.js":["422c","chunk-2d0c0665"],"./hu.js":["effe","chunk-2d231616"],"./id.global.js":["596e","chunk-2d0c9589"],"./id.js":["3cd6","chunk-2d0c4fd8"],"./is.global.js":["14c5","chunk-2d0ab68b"],"./is.js":["3027","chunk-2d0b8a58"],"./it.global.js":["1780","chunk-2d0abc94"],"./it.js":["9ffb","chunk-2d0f15bf"],"./ja.global.js":["fcfb","chunk-2d237f2f"],"./ja.js":["657a","chunk-2d0cfaff"],"./ka.global.js":["cf9a","chunk-2d2227e1"],"./ka.js":["cdb7","chunk-2d22252c"],"./kk.global.js":["14ea","chunk-2d0ab6f5"],"./kk.js":["307f","chunk-2d0b8b22"],"./ko.global.js":["b591","chunk-2d20fb61"],"./ko.js":["c72e","chunk-2d21769d"],"./lb.global.js":["d164","chunk-2d21d4c1"],"./lb.js":["ec8f","chunk-2d230542"],"./lt.global.js":["eeea","chunk-2d231232"],"./lt.js":["0f80","chunk-2d0af8a4"],"./lv.global.js":["5693","chunk-2d0c8a71"],"./lv.js":["c3b7","chunk-2d216d3b"],"./mk.global.js":["0c27","chunk-2d0aecae"],"./mk.js":["724e","chunk-2d0d63c2"],"./ms.global.js":["34bc","chunk-2d0b9f58"],"./ms.js":["6539","chunk-2d0cfa5b"],"./nb.global.js":["5c69","chunk-2d0d3307"],"./nb.js":["b3bd","chunk-2d20f909"],"./ne.global.js":["6cba","chunk-2d0dace2"],"./ne.js":["b710","chunk-2d2101ea"],"./nl.global.js":["664f","chunk-2d0cfe68"],"./nl.js":["36c7","chunk-2d0ba6cd"],"./nn.global.js":["1170","chunk-2d0aa5ef"],"./nn.js":["a98a","chunk-2d209617"],"./pl.global.js":["9350","chunk-2d0e502b"],"./pl.js":["5739","chunk-2d0c8d7e"],"./pt-br.global.js":["4478","chunk-2d0c0e57"],"./pt-br.js":["3cab","chunk-2d0c4fa7"],"./pt.global.js":["e741","chunk-2d225f65"],"./pt.js":["51cd","chunk-2d0c7cf3"],"./ro.global.js":["b690","chunk-2d20ff21"],"./ro.js":["9bd9","chunk-2d0f0654"],"./ru.global.js":["2458","chunk-2d0b255b"],"./ru.js":["fdc2","chunk-2d238263"],"./sk.global.js":["b518","chunk-2d20fa70"],"./sk.js":["327e","chunk-2d0b92a3"],"./sl.global.js":["aaf1","chunk-2d2131a1"],"./sl.js":["f049","chunk-2d22b985"],"./sq.global.js":["c274","chunk-2d216442"],"./sq.js":["eb10","chunk-2d230072"],"./sr-cyrl.global.js":["70ec","chunk-2d0d622d"],"./sr-cyrl.js":["999b","chunk-2d0e675f"],"./sr.global.js":["3a22","chunk-2d0c4244"],"./sr.js":["45b4","chunk-2d0c1749"],"./sv.global.js":["63a4","chunk-2d0cf866"],"./sv.js":["8593","chunk-2d0de3cd"],"./th.global.js":["586a","chunk-2d0c91c4"],"./th.js":["4a37","chunk-2d0cb6c7"],"./tr.global.js":["d06c","chunk-2d21d12f"],"./tr.js":["50a6","chunk-2d0c78c6"],"./ug.global.js":["3c12","chunk-2d0c49a7"],"./ug.js":["18e3","chunk-2d0ac5cb"],"./uk.global.js":["3405","chunk-2d0b991c"],"./uk.js":["db75","chunk-2d228cd2"],"./uz.global.js":["0c87","chunk-2d0aed68"],"./uz.js":["df1d","chunk-2d229b4b"],"./vi.global.js":["71cd","chunk-2d0d65b1"],"./vi.js":["7fbc","chunk-2d0e2c86"],"./zh-cn.global.js":["9bd0","chunk-2d0f064b"],"./zh-cn.js":["4387","chunk-2d0c0ab4"],"./zh-tw.global.js":["12ef","chunk-2d0aaf78"],"./zh-tw.js":["02b3","chunk-2d0a3a89"]};function c(e){if(!t.o(n,e))return Promise.resolve().then((function(){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=n[e],c=a[0];return t.e(a[1]).then((function(){return t.t(c,7)}))}c.keys=function(){return Object.keys(n)},c.id="fcc8",e.exports=c}});
//# sourceMappingURL=app.a887ab44.js.map